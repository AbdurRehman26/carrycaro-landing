"use strict";(self.webpackChunkcarrycaro_0_1_0=self.webpackChunkcarrycaro_0_1_0||[]).push([[6459],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(6540);const a={},l=i.createContext(a);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},8835:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"getting-started/installation","title":"Installation","description":"- Install via Docker","source":"@site/docs/getting-started/installation.mdx","sourceDirName":"getting-started","slug":"/getting-started/installation","permalink":"/docs/getting-started/installation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Configuration","permalink":"/docs/getting-started/configuration"},"next":{"title":"Introduction","permalink":"/docs/getting-started/introduction"}}');var a=s(4848),l=s(8453);const r={},o="Installation",t={},c=[{value:"Install via Docker",id:"install-via-docker",level:2},{value:"Docker Command",id:"docker-command",level:3},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Beta Releases on Docker",id:"beta-releases-on-docker",level:3},{value:"Install on VPS",id:"install-on-vps",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Installation Process",id:"installation-process",level:3},{value:"Ready",id:"ready",level:3},{value:"Beta Releases on VPS",id:"beta-releases-on-vps",level:3},{value:"Install Locally",id:"install-locally",level:2},{value:"Laravel Sail",id:"laravel-sail",level:3},{value:"Migrating",id:"migrating",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#install-via-docker",children:"Install via Docker"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#docker-command",children:"Docker Command"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#docker-compose",children:"Docker Compose"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#environment-variables",children:"Environment Variables"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#beta-releases-on-docker",children:"Beta Releases"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#install-on-vps",children:"Install on VPS"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#requirements",children:"Requirements"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#installation-process",children:"Installation Process"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#ready",children:"Ready"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#beta-releases-on-vps",children:"Beta Releases"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#install-locally",children:"Install Locally"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#laravel-sail",children:"Laravel Sail"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#migrating",children:"Migrating"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"install-via-docker",children:"Install via Docker"}),"\n",(0,a.jsx)(n.p,{children:"Vito provides a single docker image that you can install it easily!"}),"\n",(0,a.jsx)(n.h3,{id:"docker-command",children:"Docker Command"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"docker run -v vito_storage:/var/www/html/storage \\\n    -e APP_KEY=your_32_character_app_key  \\\n    -e NAME=admin_name \\\n    -e EMAIL=admin_email \\\n    -e PASSWORD=admin_password \\\n    -p 80:80 vitodeploy/vito:latest\n"})}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"APP_KEY"}),"\nis ",(0,a.jsx)(n.a,{href:"https://github.com/laravel/laravel/blob/3622d746fde67ebaff3dd3fdde3676599434692f/config/app.php#L20-L25",children:"Laravel's encryption key"}),"\nand should be a 32-character string."]}),(0,a.jsx)("button",{onClick:()=>{const e=new Uint8Array(32);crypto.getRandomValues(e);const n=`base64:${btoa(String.fromCharCode(...e))}`;alert(n)},className:"bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 transition duration-200 cursor-pointer",children:" Get a random APP_KEY"})]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"Make sure you modify the env variables when running the command."})}),"\n",(0,a.jsx)(n.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'version: "3"\nservices:\n  vito:\n    image: vitodeploy/vito:latest\n    ports:\n      - "8000:80"\n    environment:\n      APP_KEY: "your-32-character-app-key"\n      NAME: "vito"\n      EMAIL: "vito@example.com"\n      PASSWORD: "password"\n    volumes:\n      - "vito-storage:/var/www/html/storage"\nvolumes:\n  vito-storage:\n    driver: local\n'})}),"\n",(0,a.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"APP_KEY"}),": A 32-character string app key used for encryption within the app."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"APP_URL"}),": The URL of your Vito instance, by default is ",(0,a.jsx)(n.a,{href:"http://localhost",children:"http://localhost"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"NAME"}),": Your account's name"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"EMAIL"}),": Your account's email for login"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"PASSWORD"}),": Your account's password for login (You can change it after login)"]}),"\n",(0,a.jsx)(n.h3,{id:"beta-releases-on-docker",children:"Beta Releases on Docker"}),"\n",(0,a.jsxs)(n.p,{children:["If you want to test the beta version of Vito, You can use the ",(0,a.jsx)(n.code,{children:"2.x"})," tag."]}),"\n",(0,a.jsx)(n.h2,{id:"install-on-vps",children:"Install on VPS"}),"\n",(0,a.jsxs)(n.p,{children:["Vito can be installed on a ",(0,a.jsx)(n.strong,{children:"fresh"})," Ubuntu server with only one single command."]}),"\n",(0,a.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ubuntu 22.04 LTS or Higher"}),"\n",(0,a.jsx)(n.li,{children:"1 GB Memory"}),"\n",(0,a.jsx)(n.li,{children:"1 CPU"}),"\n",(0,a.jsx)(n.li,{children:"80 and 443 ports should be open"}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Other Ubuntu versions have not been tested, and we don't recommend them."})}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"You cannot use Vito to install applications into the same server as Vito. Otherwise, It might crash your Vito instance."})}),"\n",(0,a.jsx)(n.h3,{id:"installation-process",children:"Installation Process"}),"\n",(0,a.jsxs)(n.p,{children:["Login to the ",(0,a.jsx)(n.code,{children:"root"})," user of your server via SSH and run the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"bash <(curl -Ls https://raw.githubusercontent.com/vitodeploy/vito/2.x/scripts/install.sh)\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["You need to run the command via ",(0,a.jsx)(n.code,{children:"root"})," user!"]})}),"\n",(0,a.jsx)(n.p,{children:"The installation will ask you for these inputs:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Email"})}),"\n",(0,a.jsx)(n.p,{children:"This is the admin email that you will use to log into VitoDeploy."}),"\n",(0,a.jsxs)(n.p,{children:["You can also pass this input as an env variable ",(0,a.jsx)(n.code,{children:"ADMIN_EMAIL"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Password"})}),"\n",(0,a.jsx)(n.p,{children:"This is the admin user's password."}),"\n",(0,a.jsxs)(n.p,{children:["You can also pass this input as an env variable ",(0,a.jsx)(n.code,{children:"ADMIN_PASSWORD"})]}),"\n",(0,a.jsx)(n.h3,{id:"ready",children:"Ready"}),"\n",(0,a.jsx)(n.p,{children:"The installation can take several minutes, and after it is done, It will print an output like bellow:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txt",children:"\ud83c\udf89 Congratulations!\n\u2705 SSH User: SSH-USER\n\u2705 SSH Password: SSH-PASSWORD\n\u2705 Admin Email: ADMIN-EMAIL\n\u2705 Admin Password: ADMIN-PASSWORD\n"})}),"\n",(0,a.jsx)(n.p,{children:"At this step, You can ask VitoDeploy by visiting the IP address of your server on a browser."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"Make sure that your server is accessible via port 80 and 443."})}),"\n",(0,a.jsxs)(n.p,{children:["Now you can ",(0,a.jsx)(n.a,{href:"./securing",children:"attach a domain and secure it"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"beta-releases-on-vps",children:"Beta Releases on VPS"}),"\n",(0,a.jsxs)(n.p,{children:["To install beta releases you can pass ",(0,a.jsx)(n.code,{children:"BETA=1"})," as an env variable."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"BETA=1 bash <(curl -Ls https://raw.githubusercontent.com/vitodeploy/vito/2.x/scripts/install.sh)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"install-locally",children:"Install Locally"}),"\n",(0,a.jsx)(n.p,{children:"To contribute to VitoDeploy and run it locally we have Laravel Sail ready!"}),"\n",(0,a.jsxs)(n.p,{children:["VitoDeploy is a Laravel project which means you can follow ",(0,a.jsx)(n.a,{href:"https://laravel.com",children:"Laravel Documentation"})," to see how you can run it locally but\nhere we will recommend only one way."]}),"\n",(0,a.jsx)(n.p,{children:"VitoDeploy uses OpenSSL keys to connect to your servers so you can manage them, Every Vito instance should have its own\npublic and private key to do so. With the following command, you can generate a key pair."}),"\n",(0,a.jsx)(n.p,{children:"If you're using Mac or Linux, You can run it on your terminal. If you're using Windows, You can run it on the app\ncontainer after booting up the app via Laravel Sail."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"openssl genpkey -algorithm RSA -out /PATH_TO_VITO/storage/ssh-private.pem\nchmod 600 /PATH_TO_VITO/storage/ssh-private.pem\nssh-keygen -y -f /PATH_TO_VITO/storage/ssh-private.pem > /PATH_TO_VITO/storage/ssh-public.key\n"})}),"\n",(0,a.jsx)(n.h3,{id:"laravel-sail",children:"Laravel Sail"}),"\n",(0,a.jsx)(n.p,{children:"To run the app locally via Laravel Sail clone the repository into your local machine and then run the following\ncommands:"}),"\n",(0,a.jsx)(n.p,{children:"Set the envs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"cp .env.sail .env\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Fill the ",(0,a.jsx)(n.code,{children:".env"})," file and then"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"composer install\n"})}),"\n",(0,a.jsx)(n.p,{children:"And then boot up with Sail"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"./vendor/bin/sail up -d\n"})}),"\n",(0,a.jsx)(n.p,{children:"Generate App Key"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"./vendor/bin/sail artisan key:generate\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Create the ",(0,a.jsx)(n.code,{children:"database.sqlite"})," in the ",(0,a.jsx)(n.code,{children:"storage"})," folder."]}),"\n",(0,a.jsx)(n.p,{children:"Run the migrations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"./vendor/bin/sail artisan migrate\n"})}),"\n",(0,a.jsx)(n.p,{children:"Create a new user"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"./vendor/bin/sail artisan user:create {name} {email} {password}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Vito by default will run on localhost:8000. You can change the port on your ",(0,a.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://laravel.com/docs/10.x/sail",children:"Sail Documentation"})}),"\n",(0,a.jsx)(n.h2,{id:"migrating",children:"Migrating"}),"\n",(0,a.jsxs)(n.p,{children:["To migrate from a previous installation and import an existing VitoDeploy configuration you can simply overwrite the\n",(0,a.jsx)(n.code,{children:"storage"})," folder with the contents of the old one. For this to work you will also need to use the same Laravel ",(0,a.jsx)(n.code,{children:"APP_KEY"}),"\nin your .env file. You can subsequently generate a new one using ",(0,a.jsx)(n.code,{children:"php artisan key:generate"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);